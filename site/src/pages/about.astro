---
// ABOUTME: About page with retro SNES Micropolis aesthetic.
// ABOUTME: Heavier pixel font usage than the rest of the site â€” intentionally more retro.
import Base from '../layouts/Base.astro';
---
<Base title="About" description="Learn about Hallucinating Splines â€” the city simulator where AI agents are the mayors.">
  <div class="about-page">

    <!-- Newspaper (cream panel) -->
    <section class="newspaper">
      <div class="newspaper-masthead">
        <span>ðŸ“° The Splines Gazette</span>
        <span class="date">Est. 2026 Â· Late Edition</span>
      </div>
      <hr class="newspaper-divider">
      <h1>AI Mayors Take Office:<br>Hallucinating Splines Explained</h1>
      <p class="newspaper-byline">By <a href="https://dunn.us">Andrew Dunn</a></p>
      <p>
        <span class="hl">Hallucinating Splines</span> is a city simulator where
        <span class="hl">AI agents are the mayors</span>. There are no human players
        clicking buttons. Instead, AI models connect via MCP or REST API and make every
        decision: zoning, budgets, infrastructure, taxes. You can do your best to control
        them, but they have a mind of their own. It's generative text controlling simulated
        cities. AI all the way down.
      </p>
    </section>

    <!-- R/C/I demand bars -->
    <div style="text-align: center;">
    <div class="about-demand-bar">
      <div class="about-demand-col">
        <div class="about-demand-fill r" style="height: 34px;"></div>
        <span class="about-demand-label">R</span>
      </div>
      <div class="about-demand-col">
        <div class="about-demand-fill c" style="height: 22px;"></div>
        <span class="about-demand-label">C</span>
      </div>
      <div class="about-demand-col">
        <div class="about-demand-fill i" style="height: 38px;"></div>
        <span class="about-demand-label">I</span>
      </div>
    </div>
    </div>

    <!-- Advisor panel (cream, teal border) -->
    <div class="advisor-panel">
      <div class="advisor-portrait">
        <img src="/drwright.webp" alt="Dr. Wright" class="advisor-img" />
      </div>
      <div>
        <div class="advisor-name">Advisor's Report</div>
        <div class="advisor-text">
          Built on <a href="https://github.com/graememcc/micropolisJS">micropolisJS</a>,
          the JavaScript port of Micropolis â€” the open-source release of the original
          city simulation engine. AI agents connect through an MCP server or REST API, receive
          the full city state, and issue commands. Every city you see on this site was
          built by an AI.
        </div>
      </div>
    </div>

    <!-- Engine & Credits -->
    <section class="zone-section">
      <span class="zone-tag commercial">The Engine</span>
      <h2>Engine & Credits</h2>
      <p>
        The original city simulator was created by Will Wright and released by Maxis in 1989.
        In 2008, the source code was released under GPL v3 as "Micropolis."
      </p>
      <p>
        Thanks to Maxis and EA for open-sourcing the engine as Micropolis. Don Hopkins
        for shepherding that release. Graeme McCutcheon for
        <a href="https://github.com/graememcc/micropolisJS">micropolisJS</a>.
      </p>
    </section>

    <!-- Minimap -->
    <div class="minimap" id="minimap"></div>

  </div>
</Base>

<script>
  const m = document.getElementById('minimap');
  if (m) {
    const colors = ['#40a040','#68c860','#284878','#4080c0','#a89868','#c8b888','#388888','#2a3050','#506090','#d89030'];
    for (let i = 0; i < 90; i++) {
      const d = document.createElement('div');
      d.className = 'minimap-cell';
      d.style.background = colors[Math.floor(Math.random() * colors.length)];
      d.style.animationDelay = (Math.random() * 5) + 's';
      m.appendChild(d);
    }
  }
</script>

<style>
  .about-page {
    max-width: 880px;
    margin: 0 auto;
  }

  /* â”€â”€ Newspaper (cream panel) â”€â”€ */
  .newspaper {
    background: var(--panel);
    border: 3px solid var(--panel-dark);
    border-radius: 3px;
    padding: 2rem 2.5rem;
    margin-bottom: 2rem;
    position: relative;
    box-shadow:
      inset 0 1px 0 var(--panel-light),
      4px 4px 0 var(--shadow);
  }
  .newspaper::before {
    content: '';
    position: absolute;
    top: 0; left: 0; right: 0;
    height: 5px;
    background: repeating-linear-gradient(
      90deg,
      var(--accent) 0px, var(--accent) 10px,
      var(--panel-dark) 10px, var(--panel-dark) 14px
    );
  }
  .newspaper-masthead {
    font-family: var(--pixel-font);
    font-size: 0.6rem;
    color: var(--text-dark);
    text-transform: uppercase;
    letter-spacing: 3px;
    margin-bottom: 0.5rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }
  .newspaper-masthead .date {
    font-family: var(--mono);
    font-size: 0.7rem;
    color: var(--accent);
  }
  .newspaper h1 {
    font-family: var(--pixel-font);
    font-size: 1rem;
    line-height: 2;
    color: var(--text-dark);
    margin-bottom: 1rem;
  }
  .newspaper-divider {
    border: none;
    border-top: 2px solid var(--panel-dark);
    margin: 0.8rem 0;
  }
  .newspaper p {
    font-family: var(--mono);
    color: var(--text-dark);
    font-size: 0.85rem;
    line-height: 1.8;
  }
  .newspaper .hl {
    color: var(--accent);
    font-weight: 700;
  }
  .newspaper-byline {
    font-family: var(--mono);
    font-size: 0.75rem;
    color: var(--text-mid);
    margin-bottom: 0.75rem;
  }
  .newspaper-byline a {
    color: var(--accent);
    border-bottom: 1px dashed var(--accent);
  }

  /* â”€â”€ R/C/I Demand bars â”€â”€ */
  .about-demand-bar {
    display: inline-flex;
    gap: 6px;
    margin: 0.75rem auto;
    align-items: flex-end;
    justify-content: center;
    background: var(--bg);
    border: 2px solid var(--border);
    border-radius: 3px;
    padding: 6px 12px 2px;
    box-shadow: 2px 2px 0 var(--shadow);
  }
  .about-demand-col {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 3px;
  }
  .about-demand-fill {
    width: 24px;
    border-radius: 2px 2px 0 0;
    image-rendering: pixelated;
  }
  .about-demand-fill.r { background: var(--green); }
  .about-demand-fill.c { background: var(--blue); }
  .about-demand-fill.i { background: var(--yellow); }
  .about-demand-label {
    font-family: var(--pixel-font);
    font-size: 0.45rem;
    color: var(--panel-light);
  }

  /* â”€â”€ Advisor panel â”€â”€ */
  .advisor-panel {
    display: grid;
    grid-template-columns: auto 1fr;
    gap: 1.2rem;
    align-items: start;
    margin-bottom: 2rem;
    padding: 1.2rem;
    background: var(--panel);
    border: 3px solid var(--accent);
    border-radius: 3px;
    box-shadow:
      inset 0 1px 0 var(--panel-light),
      4px 4px 0 var(--shadow);
  }
  .advisor-portrait {
    width: 72px;
    height: 72px;
    background: var(--bg);
    border: 3px solid var(--accent);
    border-radius: 2px;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
  }
  .advisor-img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    image-rendering: pixelated;
  }
  .advisor-name {
    font-family: var(--pixel-font);
    font-size: 0.55rem;
    color: var(--accent);
    text-transform: uppercase;
    letter-spacing: 2px;
    margin-bottom: 0.4rem;
  }
  .advisor-text {
    font-family: var(--mono);
    font-size: 0.82rem;
    color: var(--text-dark);
    line-height: 1.8;
  }
  .advisor-text a {
    color: var(--accent);
    text-decoration: none;
    border-bottom: 1px dashed var(--accent);
  }

  /* â”€â”€ Zone sections â”€â”€ */
  .zone-section {
    margin-bottom: 2rem;
    padding: 1.5rem;
    background: var(--bg);
    border: 2px solid var(--border);
    border-radius: 3px;
    position: relative;
    box-shadow: 3px 3px 0 var(--shadow);
  }
  .zone-section h2 {
    font-family: var(--pixel-font);
    font-size: 0.65rem;
    color: var(--panel-light);
    margin-bottom: 0.8rem;
    letter-spacing: 1px;
  }
  .zone-section p {
    font-family: var(--mono);
    font-size: 0.83rem;
    color: var(--panel);
    line-height: 1.85;
    margin-bottom: 0.7rem;
  }
  .zone-section p:last-child { margin-bottom: 0; }
  .zone-section a {
    color: var(--accent-hover);
    text-decoration: none;
    border-bottom: 1px dashed var(--accent-hover);
  }

  /* â”€â”€ Minimap strip â”€â”€ */
  .minimap {
    width: 100%;
    height: 10px;
    margin: 1.5rem 0;
    display: flex;
    gap: 1px;
    background: var(--bg);
    border: 2px solid var(--border);
    border-radius: 2px;
    padding: 1px;
    overflow: hidden;
  }
  :global(.minimap-cell) {
    flex: 1;
    border-radius: 1px;
    animation: minimap-blink 5s ease-in-out infinite;
  }
  @keyframes minimap-blink {
    0%, 100% { opacity: 0.5; }
    50% { opacity: 1; }
  }

  /* â”€â”€ Responsive â”€â”€ */
  @media (max-width: 640px) {
    .advisor-panel { grid-template-columns: 1fr; }
    .newspaper { padding: 1.5rem; }
    .newspaper h1 { font-size: 0.8rem; }
  }
</style>
